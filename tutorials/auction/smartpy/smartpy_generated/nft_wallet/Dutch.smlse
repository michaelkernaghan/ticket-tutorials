(storage (record 22 (admin (literal (address "tz1KqTpEZ7Yob7QbPE4Hy4Wo8fHG8LhKxZSx") -1)) (current_id (literal (intOrNat 0) 22)) (tickets (big_map 23 )) (token_metadata (big_map 25 )))
storage_type ((record ((admin "address") (current_id "nat") (tickets (bigmap "nat" (ticket "nat"))) (token_metadata (bigmap "nat" (tuple "nat" (map "string" "bytes"))))) None))
messages ((configNftAuction True ((verify (eq (sender) (attr (data) "admin" 64) 64) False 64) (set_type (params 63) (record ((auction_address "address") (opening_price "nat") (reserve_price "nat") (round_time "int") (start_time "timestamp") (ticket_id "nat")) None) 65) (match_tuple 71 (get_and_update (attr (data) "tickets" 71) (attr (params 63) "ticket_id" 71) (variant "None" (unit) -1) 71) "match_pair_71_fst" "match_pair_71_snd") (verify (isVariant (variant_arg "match_pair_71_fst" 71) "Some" 72) False (literal (string "Ticket does not exist") 72) 72) (set (attr (data) "tickets" 71) (variant_arg "match_pair_71_snd" 71) 73) (set (operations 80) (cons (transfer (record 74 (opening_price (attr (params 63) "opening_price" 74)) (reserve_price (attr (params 63) "reserve_price" 75)) (round_time (attr (params 63) "round_time" 77)) (start_time (attr (params 63) "start_time" 76)) (ticket (openVariant (variant_arg "match_pair_71_fst" 71) "Some" "None" 78))) (literal (mutez 0) 80) (openVariant (contract "configureAuction" (record ((opening_price "nat") (reserve_price "nat") (round_time "int") (start_time "timestamp") (ticket (ticket "nat"))) None) (attr (params 63) "auction_address" 79) 79) "Some" "None" 79) 80) (operations 80) 80) 80))) (createNft True ((set_type (params 28) (map "string" "bytes") 29) (verify (eq (sender) (attr (data) "admin" 64) 30) False 30) (defineLocal "ticket_31" (ticket (attr (data) "current_id" 31) (literal (intOrNat 1) 31) 31) 31) (set (attr (data) "tickets" 71) (update_map (attr (data) "tickets" 71) (attr (data) "current_id" 31) (variant "Some" (getLocal "ticket_31" 31) 33) 33) 34) (set (getItem (attr (data) "token_metadata" 35) (attr (data) "current_id" 31) 35) (tuple 35 (attr (data) "current_id" 31) (params 28)) 35) (set (attr (data) "current_id" 31) (add (attr (data) "current_id" 31) (literal (intOrNat 1) 36) 36) 36))) (receiveNft True ((set_type (params 39) (ticket "nat") 40) (match_tuple 41 (read_ticket (params 39) 41) "match_pair_41_fst" "match_pair_41_snd") (defineLocal "compute_42" (second (second (variant_arg "match_pair_41_fst" 41) 42) 42) 42) (defineLocal "compute_43" (first (variant_arg "match_pair_41_fst" 41) 43) 43) (defineLocal "compute_44" (first (second (variant_arg "match_pair_41_fst" 41) 44) 44) 44) (verify (eq (getLocal "compute_42" 42) (literal (intOrNat 1) 45) 45) False (literal (string "Only send 1 Nft to this entrypoint") 45) 45) (verify (eq (source) (attr (data) "admin" 64) 46) False (literal (string "Ticket needs to be sent by wallet admin") 46) 46) (set (attr (data) "tickets" 71) (update_map (attr (data) "tickets" 71) (attr (data) "current_id" 31) (variant "Some" (variant_arg "match_pair_41_snd" 41) 48) 48) 49) (set (attr (data) "current_id" 31) (add (attr (data) "current_id" 31) (literal (intOrNat 1) 50) 50) 50))) (sendNft True ((set_type (params 53) (record ((send_to (contract (ticket "nat"))) (ticket_id "nat")) None) 54) (verify (eq (sender) (attr (data) "admin" 64) 55) False 55) (match_tuple 56 (get_and_update (attr (data) "tickets" 71) (attr (params 53) "ticket_id" 56) (variant "None" (unit) -1) 56) "match_pair_56_fst" "match_pair_56_snd") (verify (isVariant (variant_arg "match_pair_56_fst" 56) "Some" 57) False (literal (string "Ticket does not exist") 57) 57) (set (attr (data) "tickets" 71) (variant_arg "match_pair_56_snd" 56) 59) (set (operations 60) (cons (transfer (openVariant (variant_arg "match_pair_56_fst" 56) "Some" "None" 60) (literal (mutez 0) 60) (attr (params 53) "send_to" 60) 60) (operations 60) 60) 60))))
flags (edo)
globals ()
views ()
entry_points_layout ()
initial_metadata ()
balance ())